<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Dynamic Family Tree</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #f0f4f8;
    margin: 20px;
    display: flex;
    flex-direction: column;
    align-items: center;
  }
  #tree {
    margin-top: 30px;
    width: 90%;
    max-width: 900px;
  }
  .generation {
    display: flex;
    justify-content: center;
    margin-bottom: 50px;
  }
  .person {
    background-color: #007acc;
    color: white;
    border-radius: 8px;
    padding: 15px 25px;
    margin: 0 15px;
    min-width: 120px;
    text-align: center;
    box-shadow: 0 4px 10px rgba(0,0,0,0.15);
    user-select: none;
  }
  h2 {
    text-align: center;
    margin-bottom: 10px;
  }
  form {
    background: white;
    padding: 15px 25px;
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    margin-bottom: 20px;
    width: 350px;
  }
  label {
    display: block;
    margin-bottom: 8px;
    font-weight: 600;
    color: #333;
  }
  input, select, button {
    width: 100%;
    padding: 8px 10px;
    margin-bottom: 15px;
    border-radius: 5px;
    border: 1px solid #ccc;
    font-size: 1rem;
  }
  button {
    background-color: #007acc;
    color: white;
    border: none;
    cursor: pointer;
    font-weight: 700;
    transition: background-color 0.3s ease;
  }
  button:hover {
    background-color: #005f99;
  }
</style>
</head>
<body>

<h2>Dynamic Family Tree Builder</h2>

<form id="addPersonForm">
  <label for="generationInput">Generation (1 = Oldest, increasing downwards)</label>
  <input type="number" id="generationInput" min="1" value="3" required />
  
  <label for="nameInput">Person Name</label>
  <input type="text" id="nameInput" placeholder="Enter person's name" required />
  
  <button type="submit">Add Person</button>
</form>

<div id="tree"></div>

<script>
  const treeDiv = document.getElementById('tree');
  const form = document.getElementById('addPersonForm');
  let generations = {};

  // Function to render tree
  function renderTree() {
    treeDiv.innerHTML = '';

    // Sort generations by number ascending
    const genNumbers = Object.keys(generations).map(Number).sort((a,b) => a-b);

    genNumbers.forEach(genNum => {
      const genPeople = generations[genNum];
      const genContainer = document.createElement('div');
      genContainer.classList.add('generation');

      // Label for generation
      const label = document.createElement('h3');
      label.style.textAlign = 'center';
      label.style.width = '100%';
      label.style.marginBottom = '10px';
      label.style.color = '#444';
      label.textContent = `Generation ${genNum}`;
      treeDiv.appendChild(label);

      genPeople.forEach(personName => {
        const personBox = document.createElement('div');
        personBox.classList.add('person');
        personBox.textContent = personName;
        genContainer.appendChild(personBox);
      });

      treeDiv.appendChild(genContainer);
    });
  }

  // Add person on form submit
  form.addEventListener('submit', e => {
    e.preventDefault();
    const genNum = Number(document.getElementById('generationInput').value);
    const name = document.getElementById('nameInput').value.trim();
    if (!name) return;

    if (!generations[genNum]) {
      generations[genNum] = [];
    }
    generations[genNum].push(name);

    // Sort names alphabetically for neatness (optional)
    generations[genNum].sort();

    renderTree();

    form.reset();
    document.getElementById('generationInput').value = genNum; // keep generation for convenience
  });

  // Initialize with example data
  generations = {
    1: ['Grandparent 1', 'Grandparent 2'],
    2: ['Parent 1', 'Parent 2', 'Parent 3'],
    3: ['You', 'Sibling 1', 'Sibling 2']
  };
  renderTree();
</script>

</body>
</html>
